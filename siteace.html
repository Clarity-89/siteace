<head>
    <title>Siteace</title>

    <!-- Materialize icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>

<div class="navbar-fixed">
    <nav>
        <div class="nav-wrapper">
            <a href="/" class="brand-logo" id="custom-brand">Site Ace</a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                <li>{{> loginButtons}}</li>
                <li><a href="/sites">Sites</a></li>
            </ul>
        </div>
    </nav>
</div>

</body>

<template name="home">
    <div class="main-outer center">
        <div class="main">
            <div class="container">
                <div class="inner">
                    <h4>Discover The Best Websites</h4>
                    <h6>Sign up or browse without login</h6>
                    <a class="waves-effect waves-light btn" href="/sites">Browse</a>
                </div>
            </div>
        </div>
        <a href="#about" id="chevron-button" class="btn-floating btn-large waves-effect waves-light scrollspy"><i
                class="fa fa-chevron-down"></i></a>
    </div>

    <section class="section" id="about">
        <div class="promo-wrap">
            <div class="promo center">

                <div class="row">

                    <div class="col s4">
                        <i class="large material-icons">library_add</i>
                        <p class="promo-title">Share</p>
                        <p class="promo-text">Know some websites offering excellent resources for learning
                            programming? Do not hesitate, share them here!</p>
                    </div>
                    <div class="col s4">
                        <i class="large material-icons">thumbs_up_down</i>
                        <p class="promo-title">Rate</p>
                        <p class="promo-text">Know some websites offering excellent resources for learning
                            programming? Do not hesitate, share them here!</p>
                    </div>
                    <div class="col s4">
                        <i class="large material-icons">forum</i>
                        <p class="promo-title">Discuss</p>
                        <p class="promo-text">Know some websites offering excellent resources for learning
                            programming? Do not hesitate, share them here!</p>
                    </div>

                </div>
            </div>
        </div>
    </section>


</template>

<template name="sites">
    <div class="container" id="list">
        {{#unless currentUser}}
            <h3 class="heading">Sign in or Log in to be able to submit, rate and discuss websites.</h3>
        {{/unless}}

        {{> website_form}}
        {{> website_list}}
    </div>
</template>

<template name="website_form">
    {{#if currentUser}}
        <a class="btn btn-default js-toggle-website-form" href="#">
            Add new site
        </a>
    {{/if}}
    <div id="website_form" class="hidden_div">
        <form class="js-save-website-form">
            <div class="form-group">
                <label for="url">Site address</label>
                <input type="text" class="form-control" id="url" placeholder="http://www.mysite.com">
            </div>
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" id="title" placeholder="Mysite">
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <input type="text" class="form-control" id="description"
                       placeholder="I found this site really useful for ...">
            </div>
            <div class="alert alert-danger"></div>
            <button type="submit" class="waves-effect waves-light btn">Submit</button>
        </form>
    </div>
</template>

<!-- template that displays several website items -->
<template name="website_list">
    <ul class="collection">
        {{#each websites}}

            {{>website_item}}

        {{/each}}
    </ul>
</template>

<template name="topRated_item">

    <div class="col s12 m6 offset-m3">
        <div class="card hoverable">
            <div class="card-content white-text">
                <a href="{{url}}" class="card-title">{{title}}</a>
                <p id="top-rated">{{{description}}}</p>
            </div>
            <div class="card-action">
                <i class="material-icons">thumb_up</i>
                {{#if upvotes}} {{upvotes}} {{else}} 0 {{/if}}
            </div>
        </div>
    </div>

</template>
<!-- template that displays individual website entries -->
<template name="website_item">
    <p class="right">Added on {{formatDate createdOn}}</p>
    <a href="/sites/{{_id}}" class="collection-item">
        <a href="{{url}}">
            <p class="title">{{title}}</p>
        </a>
        <p>{{{description}}}</p>
        <br>
        {{#if currentUser}}
            <a href="#" class="btn waves-effect waves-light js-upvote">
                <i class="fa fa-arrow-up"></i>
            </a>
            <a href="#" class="btn waves-effect waves-light js-downvote">
                <i class="fa fa-arrow-down"></i>
            </a>
        {{/if}}
        <br><br>
        <i class="small material-icons">thumb_up</i><span class="votes">{{#if upvotes}} {{upvotes}} {{else}}
        0 {{/if}}</span>

    </a>
</template>
<template name="site">
    <div class="container">
        <h2>{{title}}</h2>
        <p>{{description}}</p>
        <p class="upvotes"><span class="glyphicon glyphicon-thumbs-up"
                                 aria-hidden="true"></span>{{#if upvotes}} {{upvotes}} {{else}} 0 {{/if}}</p>

        <div class="comments">
            <h3>Comments</h3>
            {{#if comments}}
                <ul class="list-group">
                    {{#each comments}}
                        <li class="list-group-item">
                            <p id="date">{{this.date}}</p>
                            <p id="user">{{this.user}}</p>
                            <p id="comment-text">{{this.text}}</p>
                        </li>
                    {{/each}}
                </ul>
            {{else}}
                <p>No comments yet...</p>
            {{/if}}
        </div>
        <div class="input-group">
            <textarea class="form-control" rows="3" id='comment' placeholder="Leave a comment..."></textarea>
            <span class="input-group-addon btn btn-primary js-add-comment">Submit</span>
        </div>


    </div>
</template>