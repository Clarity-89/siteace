<head>
    <title>Siteace</title>

    <!-- Materialize icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>

<nav>
    <div class="nav-wrapper teal darken-4">
        <a href="/" class="brand-logo">Site Ace</a>
        <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li>{{> loginButtons}}</li>
            <li><a href="/sites">Sites</a></li>
        </ul>
    </div>
</nav>

</body>

<template name="home">
    <div class="jumbotron">
        <div class="container">
            <h3>Welcome to Site Ace! Here you can submit your favourite programming websites or
                to rate and discuss submissions of others.</h3>
            <a class="btn btn-default btn-lg" href="/sites">See all websites</a>
        </div>
    </div>
    <div class="container">
        <h3 id="heading">Top rated websites</h3>
        <div class="row">
            {{#each topRated}}
                {{>topRated_item}}
            {{/each}}
        </div>
    </div>
</template>

<template name="sites">
    <div class="container" id="list">
        {{#unless currentUser}}
            <h3 class="heading">Sign in or Log in to be able to submit, rate and discuss websites.</h3>
        {{/unless}}

        {{> website_form}}
        {{> website_list}}
    </div>
</template>

<template name="website_form">
    {{#if currentUser}}
        <a class="btn btn-default js-toggle-website-form" href="#">
            Add new site
        </a>
    {{/if}}
    <div id="website_form" class="hidden_div">
        <form class="js-save-website-form">
            <div class="form-group">
                <label for="url">Site address</label>
                <input type="text" class="form-control" id="url" placeholder="http://www.mysite.com">
            </div>
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" id="title" placeholder="Mysite">
            </div>
            <div class="form-group">
                <label for="description">Description</label>
                <input type="text" class="form-control" id="description"
                       placeholder="I found this site really useful for ...">
            </div>
            <div class="alert alert-danger"></div>
            <button type="submit" class="btn btn-default">Submit</button>
        </form>
    </div>
</template>

<!-- template that displays several website items -->
<template name="website_list">
    <div class="list-group">
        {{#each websites}}

            {{>website_item}}

        {{/each}}
    </div>
</template>

<template name="topRated_item">


    <div class="col s6 offset-s3">
        <div class="card blue-grey darken-1">
            <div class="card-content white-text">
                <a href="{{url}}" class="card-title">{{title}}</a>
                <p>{{{description}}}</p>
            </div>
            <div class="card-action">
                <i class="material-icons">thumb_up</i>{{#if upvotes}} {{upvotes}} {{else}}
                0 {{/if}}
            </div>
        </div>
    </div>

    <!-- <div class="col-xs-6 col-md-4">
        <div class="thumbnail" id="padded">
            <a href="{{url}}">
                <p class="title">{{title}}</p>
            </a>
            <p>
                {{{description}}}
            </p>
            <p class="upvotes"><i class="material-icons">thumb_up</i>{{#if upvotes}} {{upvotes}} {{else}} 0 {{/if}}</p>
        </div>
    </div>-->

</template>
<!-- template that displays individual website entries -->
<template name="website_item">
    <a href="/sites/{{_id}}" class="list-group-item">
        <a href="{{url}}">
            <p class="title list-group-item-heading">{{title}}</p>
        </a>
        <p>{{description}}</p>

        <p class="upvotes"><span class="glyphicon glyphicon-thumbs-up"
                                 aria-hidden="true"></span>{{#if upvotes}} {{upvotes}} {{else}} 0 {{/if}}</p>

        {{#if currentUser}}
            <a href="#" class="btn btn-default btn-sm js-upvote">
                <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
            </a>

            <a href="#" class="btn btn-default btn-sm js-downvote">
                <span class="glyphicon glyphicon-minus" aria-hidden="true"></span>
            </a>
        {{/if}}
        <p>Added on {{formatDate createdOn}}</p>
    </a>
</template>
<template name="site">
    <div class="container">
        <h2>{{title}}</h2>
        <p>{{description}}</p>
        <p class="upvotes"><span class="glyphicon glyphicon-thumbs-up"
                                 aria-hidden="true"></span>{{#if upvotes}} {{upvotes}} {{else}} 0 {{/if}}</p>

        <div class="comments">
            <h3>Comments</h3>
            {{#if comments}}
                <ul class="list-group">
                    {{#each comments}}
                        <li class="list-group-item">
                            <p id="date">{{this.date}}</p>
                            <p id="user">{{this.user}}</p>
                            <p id="comment-text">{{this.text}}</p>
                        </li>
                    {{/each}}
                </ul>
            {{else}}
                <p>No comments yet...</p>
            {{/if}}
        </div>
        <div class="input-group">
            <textarea class="form-control" rows="3" id='comment' placeholder="Leave a comment..."></textarea>
            <span class="input-group-addon btn btn-primary js-add-comment">Submit</span>
        </div>


    </div>
</template>